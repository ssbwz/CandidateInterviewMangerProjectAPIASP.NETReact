import { NavLink } from "react-router-dom";
import './Navbar.css';
import auth from '../../Server/authServer';
import { useAuth } from "../../auth/Auth";
import React, { useState } from "react";




function Navbar() {
    const LoggedInlinks = [
        {
            id: 1,
            path: "/appointments",
            text: "Appointments"
        },
        {
            id: 1,
            path: '/',
            text: 'Vacancies'
        },
        
    ]

    const EveryoneLinks = [
      
    ]

    const { authTokens } = useAuth();
    const loggedInUser = auth.getCurrentUserRole();

    /*const setAuthToken = useState(
        localStorage.getItem("tokens") || ""
    );*/

    const [, setAuthToken] = useState(
        localStorage.getItem("tokens") || ""
    );



    const handleLogout = () => {
        const confirm = window.confirm("Are you sure to logout?");
        if (confirm) {
            localStorage.removeItem("tokens");
            setAuthToken("");
            window.location.reload();
        }

    };



    return (
        <div className="layout__navigation d-print-none">
            <div className="main-navigation">
                <div className="container">
                    <div className="main-navigation__wrapper">
                        <div className="main-navigation__header">
                            <div className="company-logo">
                                <a href="/" className="company-logo__svg">
                                    <svg className="d-none d-xl-block" width="160px" height="33px" viewBox="0 0 180 33" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlnsXlink="http://www.w3.org/1999/xlink">
                                        <g id="Componenten" stroke="none" strokeWidth="1" fill="none" fillRule="evenodd">
                                            <g id="Menu" transform="translate(-375.000000, -35.000000)" fill="#E71234" fillRule="nonzero">
                                                <g id="Group-7-Copy-4" transform="translate(375.000000, 35.320000)">
                                                    <path d="M8.68341709,8.68341709 C2.73366834,8.68341709 0,13.3065327 0,20.3819095 C0,27.8592965 3.01507538,32 10.6532663,32 C15.798995,32 19.6582915,30.1507538 19.6582915,30.1507538 L19.6582915,0 L14.1105528,0.964824121 L14.1105528,27.0552764 C13.6281407,27.2160804 12.4221106,27.5376884 10.6532663,27.5376884 C6.51256281,27.5376884 5.54773869,24.6834171 5.54773869,20.3819095 C5.54773869,16.080402 6.59296482,13.2663317 10.6532663,13.2663317 C11.0150754,13.2663317 11.3768844,13.2663317 11.6984925,13.3065327 L10.8944724,8.92462312 C10.0904523,8.72361809 9.00502513,8.68341709 8.68341709,8.68341709 Z" id="d"></path>
                                                    <path d="M36.2211055,9.00502513 C35.4170854,8.92462312 34.6130653,8.88442211 33.8894472,8.88442211 C30.3115578,8.88442211 27.2964824,9.64824121 25.3266332,10.6934673 L25.3266332,31.5175879 L30.8743719,31.5175879 L30.8743719,14.1507538 C31.5979899,13.9497487 32.9648241,13.5879397 34.8140704,13.5879397 C35.4170854,13.5879397 35.8592965,13.5879397 36.2211055,13.6281407 L36.2211055,9.00502513 Z" id="r"></path>
                                                    <path d="M46.4723618,5.50753769 L40.5628141,5.50753769 L40.5628141,1.04522613 L46.4723618,0 L46.4723618,5.50753769 Z M46.2713568,31.5175879 L40.7236181,31.5175879 L40.7236181,9.28643216 L46.2713568,9.28643216 L46.2713568,31.5175879 Z" id="i"></path>
                                                    <path d="M60.3417085,18.1708543 L59.6984925,21.7889447 L69.7085427,21.7889447 C69.9899497,20.4623116 70.1507538,19.1758794 70.1507538,17.9296482 C70.1507538,12.9045226 67.7788945,8.8040201 61.0251256,8.8040201 C53.9899497,8.8040201 51.1356784,13.8291457 51.1356784,20.3819095 C51.1356784,27.9798995 54.7135678,32 61.8693467,32 C66.0904523,32 69.0251256,30.7939698 69.0251256,30.7939698 L68.3417085,26.6130653 C68.3417085,26.6130653 65.6884422,27.5778894 62.4321608,27.5778894 C57.6080402,27.5778894 56.5226131,24.321608 56.5226131,20.4221106 C56.5226131,17.6080402 56.6432161,13.1055276 61.0251256,13.1055276 C64.361809,13.1055276 64.8844221,15.3567839 64.8844221,17.6080402 L64.8844221,18.1708543 L60.3417085,18.1708543 Z" id="e"></path>
                                                    <path d="M79.2763819,15.1557789 C79.2763819,13.8291457 80.7638191,13.1457286 83.7386935,13.1457286 C85.9095477,13.1457286 87.758794,13.3869347 89.2864322,13.8693467 L90.0904523,9.68844221 C89.6884422,9.52763819 88.8040201,9.32663317 87.4773869,9.12562814 C86.1507538,8.92462312 84.8241206,8.8040201 83.4170854,8.8040201 C80.6834171,8.8040201 78.4321608,9.32663317 76.7035176,10.3718593 C74.9748744,11.4170854 74.0904523,13.1055276 74.0904523,15.4773869 C74.0904523,17.7286432 74.9346734,19.4974874 76.5025126,20.6231156 C78.1105528,21.7085427 79.4773869,22.2311558 81.4472362,22.7537688 C84.5025126,23.5577889 85.8291457,24.120603 85.8291457,25.6080402 C85.8291457,26.9748744 84.3819095,27.6582915 81.5276382,27.6582915 C79.1557789,27.6582915 77.1055276,27.3366834 75.3768844,26.6934673 L74.6532663,30.8743719 L75.4572864,31.1557789 C76.5427136,31.5175879 79.0753769,32 81.6080402,32 C87.5175879,32 91.0552764,29.8291457 91.0552764,25.1256281 C91.0552764,22.9145729 90.2914573,21.2261307 88.8442211,20.1407035 C87.3969849,19.0552764 85.9497487,18.5326633 83.8190955,17.9296482 C82.1708543,17.4874372 81.6080402,17.3266332 80.6030151,16.8844221 C79.638191,16.4422111 79.2763819,15.919598 79.2763819,15.1557789 Z" id="s"></path>
                                                    <path d="M100.261307,15.1557789 C100.261307,13.8291457 101.748744,13.1457286 104.723618,13.1457286 C106.894472,13.1457286 108.743719,13.3869347 110.271357,13.8693467 L111.075377,9.68844221 C110.673367,9.52763819 109.788945,9.32663317 108.462312,9.12562814 C107.135678,8.92462312 105.809045,8.8040201 104.40201,8.8040201 C101.668342,8.8040201 99.4170854,9.32663317 97.6884422,10.3718593 C95.959799,11.4170854 95.0753769,13.1055276 95.0753769,15.4773869 C95.0753769,17.7286432 95.919598,19.4974874 97.4874372,20.6231156 C99.0954774,21.7085427 100.462312,22.2311558 102.432161,22.7537688 C105.487437,23.5577889 106.81407,24.120603 106.81407,25.6080402 C106.81407,26.9748744 105.366834,27.6582915 102.512563,27.6582915 C100.140704,27.6582915 98.0904523,27.3366834 96.361809,26.6934673 L95.638191,30.8743719 L96.4422111,31.1557789 C97.5276382,31.5175879 100.060302,32 102.592965,32 C108.502513,32 112.040201,29.8291457 112.040201,25.1256281 C112.040201,22.9145729 111.276382,21.2261307 109.829146,20.1407035 C108.38191,19.0552764 106.934673,18.5326633 104.80402,17.9296482 C103.155779,17.4874372 102.592965,17.3266332 101.58794,16.8844221 C100.623116,16.4422111 100.261307,15.919598 100.261307,15.1557789 Z" id="s"></path>
                                                    <path d="M125.306533,18.1708543 L124.663317,21.7889447 L134.673367,21.7889447 C134.954774,20.4623116 135.115578,19.1758794 135.115578,17.9296482 C135.115578,12.9045226 132.743719,8.8040201 125.98995,8.8040201 C118.954774,8.8040201 116.100503,13.8291457 116.100503,20.3819095 C116.100503,27.9798995 119.678392,32 126.834171,32 C131.055276,32 133.98995,30.7939698 133.98995,30.7939698 L133.306533,26.6130653 C133.306533,26.6130653 130.653266,27.5778894 127.396985,27.5778894 C122.572864,27.5778894 121.487437,24.321608 121.487437,20.4221106 C121.487437,17.6080402 121.60804,13.1055276 125.98995,13.1055276 C129.326633,13.1055276 129.849246,15.3567839 129.849246,17.6080402 L129.849246,18.1708543 L125.306533,18.1708543 Z" id="e"></path>
                                                    <path d="M153.809045,31.5175879 L159.316583,31.5175879 L159.316583,18.0502513 C159.316583,11.2562814 156.180905,8.8040201 149.58794,8.8040201 C147.939698,8.8040201 146.251256,8.96482412 144.522613,9.32663317 C142.834171,9.68844221 141.708543,9.96984925 141.145729,10.1708543 L139.859296,10.6532663 L139.859296,31.5175879 L145.407035,31.5175879 L145.407035,13.8291457 L145.889447,13.6683417 C146.492462,13.5075377 147.939698,13.2663317 149.266332,13.2663317 C152.120603,13.2663317 153.809045,14.1105528 153.809045,17.4874372 L153.809045,31.5175879 Z" id="n"></path>
                                                    <path d="M172.78392,0.16080402 L172.743719,0.120603015 L172.743719,10.3316583 C172.502513,10.4120603 172.060302,10.4924623 171.376884,10.4924623 C169.889447,10.4924623 169.487437,9.5678392 169.487437,7.95979899 C169.487437,6.35175879 169.929648,5.42713568 171.376884,5.42713568 L171.859296,5.42713568 L171.658291,4.26130653 C171.537688,4.22110553 171.417085,4.22110553 171.296482,4.22110553 C169.125628,4.22110553 168.040201,5.42713568 168.040201,7.95979899 C168.040201,10.4522613 169.085427,11.6984925 171.376884,11.6984925 C172.944724,11.6984925 174.150754,11.1356784 174.150754,11.1356784 L174.150754,2.05025126 C176.40201,3.09547739 177.969849,5.34673367 177.969849,7.95979899 C177.969849,11.5376884 175.075377,14.4321608 171.497487,14.4321608 C167.919598,14.4321608 165.025126,11.5376884 165.025126,7.95979899 C165.025126,4.50251256 167.758794,1.64824121 171.175879,1.48743719 L170.934673,0.0804020101 C166.834171,0.361809045 163.61809,3.77889447 163.61809,7.95979899 C163.61809,12.3015075 167.155779,15.839196 171.497487,15.839196 C175.879397,15.839196 179.417085,12.3015075 179.417085,7.95979899 C179.417085,4.0201005 176.522613,0.763819095 172.78392,0.16080402 Z" id="*"></path>
                                                </g>
                                            </g>
                                        </g>
                                    </svg>
                                    <svg className="d-block d-xl-none" width="150px" height="29px" viewBox="0 0 180 33" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlnsXlink="http://www.w3.org/1999/xlink">
                                        <g id="Componenten" stroke="none" strokeWidth="1" fill="none" fillRule="evenodd">
                                            <g id="Menu" transform="translate(-375.000000, -35.000000)" fill="#FFFFFF" fillRule="nonzero">
                                                <g id="Group-7-Copy-4" transform="translate(375.000000, 35.320000)">
                                                    <path d="M8.68341709,8.68341709 C2.73366834,8.68341709 0,13.3065327 0,20.3819095 C0,27.8592965 3.01507538,32 10.6532663,32 C15.798995,32 19.6582915,30.1507538 19.6582915,30.1507538 L19.6582915,0 L14.1105528,0.964824121 L14.1105528,27.0552764 C13.6281407,27.2160804 12.4221106,27.5376884 10.6532663,27.5376884 C6.51256281,27.5376884 5.54773869,24.6834171 5.54773869,20.3819095 C5.54773869,16.080402 6.59296482,13.2663317 10.6532663,13.2663317 C11.0150754,13.2663317 11.3768844,13.2663317 11.6984925,13.3065327 L10.8944724,8.92462312 C10.0904523,8.72361809 9.00502513,8.68341709 8.68341709,8.68341709 Z" id="d"></path>
                                                    <path d="M36.2211055,9.00502513 C35.4170854,8.92462312 34.6130653,8.88442211 33.8894472,8.88442211 C30.3115578,8.88442211 27.2964824,9.64824121 25.3266332,10.6934673 L25.3266332,31.5175879 L30.8743719,31.5175879 L30.8743719,14.1507538 C31.5979899,13.9497487 32.9648241,13.5879397 34.8140704,13.5879397 C35.4170854,13.5879397 35.8592965,13.5879397 36.2211055,13.6281407 L36.2211055,9.00502513 Z" id="r"></path>
                                                    <path d="M46.4723618,5.50753769 L40.5628141,5.50753769 L40.5628141,1.04522613 L46.4723618,0 L46.4723618,5.50753769 Z M46.2713568,31.5175879 L40.7236181,31.5175879 L40.7236181,9.28643216 L46.2713568,9.28643216 L46.2713568,31.5175879 Z" id="i"></path>
                                                    <path d="M60.3417085,18.1708543 L59.6984925,21.7889447 L69.7085427,21.7889447 C69.9899497,20.4623116 70.1507538,19.1758794 70.1507538,17.9296482 C70.1507538,12.9045226 67.7788945,8.8040201 61.0251256,8.8040201 C53.9899497,8.8040201 51.1356784,13.8291457 51.1356784,20.3819095 C51.1356784,27.9798995 54.7135678,32 61.8693467,32 C66.0904523,32 69.0251256,30.7939698 69.0251256,30.7939698 L68.3417085,26.6130653 C68.3417085,26.6130653 65.6884422,27.5778894 62.4321608,27.5778894 C57.6080402,27.5778894 56.5226131,24.321608 56.5226131,20.4221106 C56.5226131,17.6080402 56.6432161,13.1055276 61.0251256,13.1055276 C64.361809,13.1055276 64.8844221,15.3567839 64.8844221,17.6080402 L64.8844221,18.1708543 L60.3417085,18.1708543 Z" id="e"></path>
                                                    <path d="M79.2763819,15.1557789 C79.2763819,13.8291457 80.7638191,13.1457286 83.7386935,13.1457286 C85.9095477,13.1457286 87.758794,13.3869347 89.2864322,13.8693467 L90.0904523,9.68844221 C89.6884422,9.52763819 88.8040201,9.32663317 87.4773869,9.12562814 C86.1507538,8.92462312 84.8241206,8.8040201 83.4170854,8.8040201 C80.6834171,8.8040201 78.4321608,9.32663317 76.7035176,10.3718593 C74.9748744,11.4170854 74.0904523,13.1055276 74.0904523,15.4773869 C74.0904523,17.7286432 74.9346734,19.4974874 76.5025126,20.6231156 C78.1105528,21.7085427 79.4773869,22.2311558 81.4472362,22.7537688 C84.5025126,23.5577889 85.8291457,24.120603 85.8291457,25.6080402 C85.8291457,26.9748744 84.3819095,27.6582915 81.5276382,27.6582915 C79.1557789,27.6582915 77.1055276,27.3366834 75.3768844,26.6934673 L74.6532663,30.8743719 L75.4572864,31.1557789 C76.5427136,31.5175879 79.0753769,32 81.6080402,32 C87.5175879,32 91.0552764,29.8291457 91.0552764,25.1256281 C91.0552764,22.9145729 90.2914573,21.2261307 88.8442211,20.1407035 C87.3969849,19.0552764 85.9497487,18.5326633 83.8190955,17.9296482 C82.1708543,17.4874372 81.6080402,17.3266332 80.6030151,16.8844221 C79.638191,16.4422111 79.2763819,15.919598 79.2763819,15.1557789 Z" id="s"></path>
                                                    <path d="M100.261307,15.1557789 C100.261307,13.8291457 101.748744,13.1457286 104.723618,13.1457286 C106.894472,13.1457286 108.743719,13.3869347 110.271357,13.8693467 L111.075377,9.68844221 C110.673367,9.52763819 109.788945,9.32663317 108.462312,9.12562814 C107.135678,8.92462312 105.809045,8.8040201 104.40201,8.8040201 C101.668342,8.8040201 99.4170854,9.32663317 97.6884422,10.3718593 C95.959799,11.4170854 95.0753769,13.1055276 95.0753769,15.4773869 C95.0753769,17.7286432 95.919598,19.4974874 97.4874372,20.6231156 C99.0954774,21.7085427 100.462312,22.2311558 102.432161,22.7537688 C105.487437,23.5577889 106.81407,24.120603 106.81407,25.6080402 C106.81407,26.9748744 105.366834,27.6582915 102.512563,27.6582915 C100.140704,27.6582915 98.0904523,27.3366834 96.361809,26.6934673 L95.638191,30.8743719 L96.4422111,31.1557789 C97.5276382,31.5175879 100.060302,32 102.592965,32 C108.502513,32 112.040201,29.8291457 112.040201,25.1256281 C112.040201,22.9145729 111.276382,21.2261307 109.829146,20.1407035 C108.38191,19.0552764 106.934673,18.5326633 104.80402,17.9296482 C103.155779,17.4874372 102.592965,17.3266332 101.58794,16.8844221 C100.623116,16.4422111 100.261307,15.919598 100.261307,15.1557789 Z" id="s"></path>
                                                    <path d="M125.306533,18.1708543 L124.663317,21.7889447 L134.673367,21.7889447 C134.954774,20.4623116 135.115578,19.1758794 135.115578,17.9296482 C135.115578,12.9045226 132.743719,8.8040201 125.98995,8.8040201 C118.954774,8.8040201 116.100503,13.8291457 116.100503,20.3819095 C116.100503,27.9798995 119.678392,32 126.834171,32 C131.055276,32 133.98995,30.7939698 133.98995,30.7939698 L133.306533,26.6130653 C133.306533,26.6130653 130.653266,27.5778894 127.396985,27.5778894 C122.572864,27.5778894 121.487437,24.321608 121.487437,20.4221106 C121.487437,17.6080402 121.60804,13.1055276 125.98995,13.1055276 C129.326633,13.1055276 129.849246,15.3567839 129.849246,17.6080402 L129.849246,18.1708543 L125.306533,18.1708543 Z" id="e"></path>
                                                    <path d="M153.809045,31.5175879 L159.316583,31.5175879 L159.316583,18.0502513 C159.316583,11.2562814 156.180905,8.8040201 149.58794,8.8040201 C147.939698,8.8040201 146.251256,8.96482412 144.522613,9.32663317 C142.834171,9.68844221 141.708543,9.96984925 141.145729,10.1708543 L139.859296,10.6532663 L139.859296,31.5175879 L145.407035,31.5175879 L145.407035,13.8291457 L145.889447,13.6683417 C146.492462,13.5075377 147.939698,13.2663317 149.266332,13.2663317 C152.120603,13.2663317 153.809045,14.1105528 153.809045,17.4874372 L153.809045,31.5175879 Z" id="n"></path>
                                                    <path d="M172.78392,0.16080402 L172.743719,0.120603015 L172.743719,10.3316583 C172.502513,10.4120603 172.060302,10.4924623 171.376884,10.4924623 C169.889447,10.4924623 169.487437,9.5678392 169.487437,7.95979899 C169.487437,6.35175879 169.929648,5.42713568 171.376884,5.42713568 L171.859296,5.42713568 L171.658291,4.26130653 C171.537688,4.22110553 171.417085,4.22110553 171.296482,4.22110553 C169.125628,4.22110553 168.040201,5.42713568 168.040201,7.95979899 C168.040201,10.4522613 169.085427,11.6984925 171.376884,11.6984925 C172.944724,11.6984925 174.150754,11.1356784 174.150754,11.1356784 L174.150754,2.05025126 C176.40201,3.09547739 177.969849,5.34673367 177.969849,7.95979899 C177.969849,11.5376884 175.075377,14.4321608 171.497487,14.4321608 C167.919598,14.4321608 165.025126,11.5376884 165.025126,7.95979899 C165.025126,4.50251256 167.758794,1.64824121 171.175879,1.48743719 L170.934673,0.0804020101 C166.834171,0.361809045 163.61809,3.77889447 163.61809,7.95979899 C163.61809,12.3015075 167.155779,15.839196 171.497487,15.839196 C175.879397,15.839196 179.417085,12.3015075 179.417085,7.95979899 C179.417085,4.0201005 176.522613,0.763819095 172.78392,0.16080402 Z" id="*"></path>
                                                </g>
                                            </g>
                                        </g>
                                    </svg>
                                </a>
                            </div>
                            {/*<button className="hamburger hamburger--squeeze" type="button">
                                <span className="hamburger-box">
                                    <span className="hamburger-inner"></span>
                                </span>
                                </button>*/}
                        </div>
                        <ul className="main-navigation__items" data-region="primary_menu">
                            {
                                EveryoneLinks.map(link => {
                                    return (
                                        <li className="main-navigation__item" key={link.id}>
                                            <NavLink to={link.path} className="main-navigation__link">{link.text}</NavLink>
                                        </li>
                                    )
                                })
                            }

                            {((loggedInUser && "Admin" === loggedInUser) || (loggedInUser && "Recruiter" === loggedInUser)) &&
                                LoggedInlinks.map(link => {
                                    return (
                                        <li className="main-navigation__item" key={link.id}>
                                            {<NavLink className="main-navigation__link" to={link.path}>
                                                {link.text}
                                            </NavLink>
                                            }
                                        </li>

                                    )
                                })
                            }

                            {authTokens ? (
                                <li className="main-navigation__item"><NavLink id="logout" className="main-navigation__link" onClick={handleLogout}> Logout </NavLink></li>
                            ) : (
                                <li className="main-navigation__item"><NavLink className="main-navigation__link" to="/login">Login</NavLink></li>
                            )
                            }


                        </ul>
                    </div>
                </div>
            </div>
        </div>
    )
}
export default Navbar;